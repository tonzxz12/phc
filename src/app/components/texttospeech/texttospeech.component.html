<div class="h-fit py-12 flex flex-col gap-10 overflow-y-auto" style="background-color: var(--body-color);">
  <div
    class="w-full max-w-4xl p-4 sm:p-4 flex flex-col gap-8 sm:gap-12 rounded-lg mx-auto"
    style="background-color: var(--card-bg); box-shadow: var(--card-hover-shadow);"
  >   <div class="flex justify-center relative">
      <button
        class="tooltip-button px-4 py-2 rounded transform transition duration-150 ease-in-out hover:scale-110 relative"
        (click)="toggleDropdown()" data-tooltip="Choose language"
        style="background-color: var(--btn-primary-bg); color: var(--btn-primary-text);">
        Language: {{selectedLanguageName}}
      </button>
      <div *ngIf="showDropdown"
        class="absolute top-12 w-44 left-1/2 transform -translate-x-1/2 mt-1 py-2 rounded z-10"
        style="background-color: var(--modal-bg); box-shadow: var(--card-hover-shadow); border: 1px solid var(--modal-border);">
        <a href="#" class="block px-4 py-2 text-sm transition-colors"
          style="color: var(--text-color);"
          onmouseover="this.style.backgroundColor='var(--table-row-hover)'"
          onmouseout="this.style.backgroundColor='transparent'"
          (click)="selectLanguage('en', 'English'); $event.preventDefault()">English</a>
        <a href="#" class="block px-4 py-2 text-sm transition-colors"
          style="color: var(--text-color);"
          onmouseover="this.style.backgroundColor='var(--table-row-hover)'"
          onmouseout="this.style.backgroundColor='transparent'"
          (click)="selectLanguage('ja', 'Japanese'); $event.preventDefault()">Japanese</a>
        <a href="#" class="block px-4 py-2 text-sm transition-colors"
          style="color: var(--text-color);"
          onmouseover="this.style.backgroundColor='var(--table-row-hover)'"
          onmouseout="this.style.backgroundColor='transparent'"
          (click)="selectLanguage('fr', 'French'); $event.preventDefault()">French</a>
      </div>
    </div>


    <div class="max-w-full sm:max-w-[90%] mx-auto flex flex-col sm:flex-row gap-4 w-full h-56">
      <div class="w-full h-full flex">
        <textarea maxlength="50" id="textToSpeak" rows="4"
          class="w-full flex-1 p-2.5 text-sm rounded focus:outline-none resize-none"
          placeholder="Type something to listen to... (maximum of 50 characters)" [(ngModel)]="textInput"
          style="background-color: var(--input-bg); color: var(--input-text); border: 1px solid var(--input-border); box-shadow: var(--card-shadow);"></textarea>
      </div>

    
        <div class="flex md:flex-col sm:flex-row mx-4 gap-4 justify-center items-center ">
          <div class="h-16 w-16 border-gradient rounded-full flex items-center justify-center" pTooltip="Convert text to speech">
            <button (click)="textToSpeech()" class="h-8 w-8 flex items-center justify-center">
              <svg class="mega" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000">
                <defs>
                  <!-- Remove the gradient definition -->
                </defs>
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g>
                    <g>
                      <g>
                        <path style="fill: var(--primary-color);"
                          d="M94.432,139.492H19.231C8.61,139.492,0,148.103,0,158.723v138.71 c0,10.62,8.61,19.231,19.231,19.231h75.201c9.733,0,17.756-7.238,19.033-16.621L231,335.009v-213.86l-117.535,34.965 C112.188,146.729,104.165,139.492,94.432,139.492z">
                        </path>
                        <path style="fill: var(--primary-color);"
                          d="M349.482,78.436h-60.79c-10.621,0-19.231,8.61-19.231,19.231v260.822 c0,10.621,8.61,19.231,19.231,19.231h60.79c10.621,0,19.231-8.61,19.231-19.231V97.667 C368.713,87.046,360.103,78.436,349.482,78.436z">
                        </path>
                        <path style="fill: var(--primary-color);"
                          d="M492.769,208.847h-75.828c-10.621,0-19.231,8.61-19.231,19.231 c0,10.621,8.61,19.231,19.231,19.231h75.828c10.62,0,19.231-8.61,19.231-19.231C512,217.458,503.391,208.847,492.769,208.847z">
                        </path>
                        <path style="fill: var(--primary-color);"
                          d="M428.687,172.483l53.619-53.619c7.51-7.51,7.51-19.686,0-27.196c-7.509-7.51-19.686-7.51-27.196,0 l-53.619,53.619c-7.51,7.51-7.51,19.687,0,27.196C409,179.994,421.178,179.995,428.687,172.483z">
                        </path>
                        <path style="fill: var(--primary-color);"
                          d="M428.687,283.673c-7.509-7.51-19.686-7.51-27.196,0s-7.51,19.686,0,27.196l53.619,53.619 c7.509,7.51,19.686,7.512,27.196,0c7.51-7.51,7.51-19.686,0-27.196L428.687,283.673z">
                        </path>
                        <path style="fill: var(--primary-color);"
                          d="M127.82,414.333c0,10.621,8.61,19.231,19.231,19.231h57.459c10.621,0,19.231-8.61,19.231-19.231 v-41.356l-95.921-28.536V414.333z">
                        </path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </button>
          </div>

          <div class="h-16 w-16 border-gradient rounded-full flex items-center justify-center" pTooltip="Play generated audio">
            <i
              class="fa-solid cursor-pointer"
              [ngClass]="audioPlaying ? 'fa-pause' : 'fa-play'"
              [style.color]="'var(--secondary-color)'"
              (click)="playTheAudio()"
            ></i>
          </div>
          <!-- Example SVG for a download icon; replace with your icon -->
          <div class="h-16 w-16 border-gradient rounded-full flex items-center justify-center" pTooltip="Download audio">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 cursor-pointer download-icon" viewBox="0 0 24 24"
              fill="white" stroke="var(--secondary-color)" (click)="download()">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
          </div>

        </div>
      

    </div>

    <!--Record and Listen -->

    <div class="gap-x-4 w-full max-w-[90%] mx-auto h-fit">
      <div class="w-full flex flex-row justify-evenly items-center p-4 sm:gap-y-8 rounded border"
           style="background-color: var(--card-bg); box-shadow: var(--card-shadow); border-color: var(--card-border);">
        <!-- Content 1 -->
        <div class="flex flex-col justify-center text-center items-center gap-4 w-fit cursor-pointer" (click)="startRecording()"
          [class.pulse]="recording">
          <div class="overlap-group recs">
            <div class="ellipse"></div>
            <!-- <img class="microphone" src="assets/record.png" /> -->
            <svg class="{{!recording ? 'border-8 animate-pulse' : 'text-red-500 pulse border-red-500 animate-pulse border-8'}} rounded-full"
              [ngStyle]="{'color': !recording ? 'var(--primary-color)' : '#ef4444', 'background-color': 'var(--card-bg)', 'border-color': !recording ? 'var(--primary-color)' : '#ef4444'}"
              xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M12 2a5.75 5.75 0 0 0-5.75 5.75v3a5.75 5.75 0 0 0 11.452.75H13a.75.75 0 0 1 0-1.5h4.75V8.5H13A.75.75 0 0 1 13 7h4.701A5.75 5.75 0 0 0 12 2" />
              <path fill="currentColor" fill-rule="evenodd"
                d="M4 9a.75.75 0 0 1 .75.75v1a7.25 7.25 0 1 0 14.5 0v-1a.75.75 0 0 1 1.5 0v1a8.75 8.75 0 0 1-8 8.718v2.282a.75.75 0 0 1-1.5 0v-2.282a8.75 8.75 0 0 1-8-8.718v-1A.75.75 0 0 1 4 9"
                clip-rule="evenodd" />
            </svg>
          </div>
          <div class="text-xl font-bold" [ngStyle]="{'color': !recording ? 'var(--text-color)' : '#ef4444'}">{{ recording ? 'Recording...' : 'Record Audio' }}</div>
        </div>

        <!-- Content 3 -->
        <div class="flex flex-col text-center justify-center items-center gap-4 w-fit cursor-pointer" (click)="playAudio()"
          [class.pulse]="playing">
          <div class="overlap-group1">
            <div class="ellipse1 gradient-color" [ngClass]="{ 'animate-wave1': playing }"></div>
            <svg class="rounded-full border-8 {{!playing ? '' : 'text-red-500 pulse animate-pulse'}}"
              [ngStyle]="{'color': !playing ? 'var(--primary-color)' : '#ef4444', 'background-color': 'var(--card-bg)', 'border-color': !playing ? 'var(--primary-color)' : '#ef4444'}"
              xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 512 512">
              <path fill="currentColor"
                d="M411.16 97.46C368.43 55.86 311.88 32 256 32S143.57 55.86 100.84 97.46C56.45 140.67 32 197 32 256c0 26.67 8.75 61.09 32.88 125.55S137 473 157.27 477.41c5.81 1.27 12.62 2.59 18.73 2.59a60.06 60.06 0 0 0 30-8l14-8c15.07-8.82 19.47-28.13 10.8-43.35l-86.92-152.57a31.73 31.73 0 0 0-43.57-11.76l-13.69 8a56.5 56.5 0 0 0-14 11.59a4 4 0 0 1-7-2A115 115 0 0 1 64 256c0-50.31 21-98.48 59.16-135.61C160 84.55 208.39 64 256 64s96 20.55 132.84 56.39C427 157.52 448 205.69 448 256a115 115 0 0 1-1.68 17.91a4 4 0 0 1-7 2a56.5 56.5 0 0 0-14-11.59l-13.69-8a31.73 31.73 0 0 0-43.57 11.76L281.2 420.65c-8.67 15.22-4.27 34.53 10.8 43.35l14 8a60.06 60.06 0 0 0 30 8c6.11 0 12.92-1.32 18.73-2.59C375 473 423 446 447.12 381.55S480 282.67 480 256c0-59-24.45-115.33-68.84-158.54" />
            </svg>
          </div>
          <div class="text-xl font-bold" [ngStyle]="{'color': !playing ? 'var(--text-color)' : '#ef4444'}">{{ playing ? 'Stop' : 'Play' }} the Audio</div>
        </div>


      </div>
    </div>
  </div>
</div>